{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Dark hacker-style theme, theme toggle, and local search history",
  "requirements": [
    {
      "id": "REQ-5",
      "summary": "Apply a dark terminal/hacker-inspired visual style consistently across the app, including terminal-like typography for key areas such as the JSON result panel.",
      "acceptanceCriteria": [
        "The app renders with a clearly dark appearance (no light background dominance) across header, main content, and footer.",
        "The result JSON area visually reads like a terminal output (e.g., monospace font, appropriate contrast, and terminal-like container styling).",
        "No user-facing UI strings are introduced in a non-English language.",
        "Styling changes are applied consistently across existing components (form, result, header/footer) without breaking layout or responsiveness."
      ],
      "file_operations": [
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Retune the existing CSS variable palette (especially .dark) to a terminal/hacker-inspired scheme with high-contrast accents and ensure base elements (body, cards, borders) read clearly in dark mode; add small global utility classes for terminal-like sections (e.g., monospace + subtle scanline/glow) without introducing new user-facing text."
        },
        {
          "path": "frontend/tailwind.config.js",
          "operation": "modify",
          "description": "Extend Tailwind theme to include a monospace font family (e.g., font-mono mapping) and any needed safe theme tokens so key areas can reliably use terminal-like typography across the app."
        },
        {
          "path": "frontend/src/components/NumberInfoResult.tsx",
          "operation": "modify",
          "description": "Update the result panel styling so the JSON output reads like terminal output (use monospace, stronger contrast, and a terminal-like container treatment) while continuing to compose existing shadcn-ui Card/Button/Alert components. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/components/NumberInfoForm.tsx",
          "operation": "modify",
          "description": "Adjust form surface/controls styling to match the dark hacker theme (consistent card, input, button, label treatments) while continuing to compose existing shadcn-ui components and keeping all UI strings in English. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Refresh header/footer and overall layout classes to match the dark terminal aesthetic (surfaces, borders, typography accents) and ensure styling remains consistent and responsive across the full page."
        }
      ]
    },
    {
      "id": "REQ-6",
      "summary": "Add a Dark/Light theme toggle that applies/removes the global dark-mode class, defaulting to Dark, and persist the choice in local storage.",
      "acceptanceCriteria": [
        "A visible UI control exists to toggle between Dark and Light themes.",
        "Toggling the control immediately updates the app’s colors (background, text, card surfaces, borders).",
        "The selected theme is saved locally and restored after a full page reload.",
        "Default behavior is sensible: if no prior preference exists, the app loads in Dark mode."
      ],
      "file_operations": [
        {
          "path": "frontend/src/hooks/useTheme.ts",
          "operation": "create",
          "description": "Create a small hook to manage theme state (Dark/Light), apply/remove the global 'dark' class on the document root, default to Dark when no preference exists, and persist/restore the preference via local storage."
        },
        {
          "path": "frontend/src/components/ThemeToggle.tsx",
          "operation": "create",
          "description": "Create a visible Dark/Light toggle control using shadcn-ui button-style composition (no edits under frontend/src/components/ui), and wire it to useTheme for immediate visual switching and persisted preference. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Render ThemeToggle in the header (or another always-visible area) and ensure it doesn’t introduce non-English text; keep layout responsive."
        },
        {
          "path": "frontend/src/main.tsx",
          "operation": "modify",
          "description": "Ensure the saved theme preference is applied as early as possible on app load (defaulting to Dark) so the correct mode is restored after reload with minimal flash."
        }
      ]
    },
    {
      "id": "REQ-7",
      "summary": "Add a locally persisted, capped, de-duplicated search history list that can re-run past searches and can be cleared.",
      "acceptanceCriteria": [
        "After submitting a number, it appears in a visible history list on the page.",
        "Clicking a history item triggers fetching and displaying results for that number (reusing the existing React Query flow).",
        "History persists across page reloads using local storage.",
        "History list is capped (e.g., last 10–20 items) and avoids duplicate entries by moving an existing number to the top when re-searched.",
        "A clear-history control removes all stored history and updates the UI immediately."
      ],
      "file_operations": [
        {
          "path": "frontend/src/hooks/useSearchHistory.ts",
          "operation": "create",
          "description": "Implement a hook that stores submitted numbers in local storage, caps the list length (e.g., 15), de-duplicates by moving existing entries to the top, and exposes actions to add an item and clear all history."
        },
        {
          "path": "frontend/src/components/NumberSearchHistory.tsx",
          "operation": "create",
          "description": "Create an on-page history panel that lists past numbers and provides a clear-history action; use existing shadcn-ui Card/Button composition for consistent styling and accessibility (no edits under frontend/src/components/ui). Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wire history into the main flow: on successful submit, add the number to history; render NumberSearchHistory on the page; clicking a history item should set submittedNumber to re-run the existing React Query fetching and update the displayed result; clear-history updates UI immediately."
        }
      ]
    }
  ]
}